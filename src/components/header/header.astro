---
import "../header/header.css"
import HeaderLogo from "/images/header/LogoHeader.png";

interface SiteMap {
  name: string;
  refLink: string;
}

interface Props {
  companyData: {
    siteMap: Array<SiteMap>;
  };
}

const { companyData } = Astro.props;
const { siteMap } = companyData;
---

<header id="header">
  <div class="logo-header">
    <img src={HeaderLogo} alt="EquaSystems Logo" />
  </div>
  <nav class="menu menu-resp">
    <ul>
      {
        siteMap.map(site => 
          <li>
            <a class="selected" href={site.refLink}>{site.name}</a>
          </li>
        )
      }
    </ul>
  </nav>
  <div class="burguer">
    <div class="line"></div>
    <div class="line"></div>
    <div class="line"></div>
  </div>
</header>

<script>
  window.onscroll = function() {scrollFunction()};
  
  var header = document.getElementById("header");
  var body = document.body;  

  var sticky = header.offsetTop;
  var marginTop = header.offsetHeight;  

  function scrollFunction() {
    if (window.pageYOffset > sticky) {
      header.classList.add("sticky");
      body.style.paddingTop = marginTop.toString()+'px';
    } else {
      header.classList.remove("sticky");
      body.style.paddingTop = '0';
    }
  }
  </script>